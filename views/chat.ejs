<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
    <link rel="stylesheet" href="./styles.css">
    <title>Chat</title>
</head>

<body>
    <div id="chat" class="row container d-flex justify-content-center">
        <i class="d-none user-data" data-uname="<%= user.username %>" data-psw="<%= user.password %>"></i>
        <div class="col-md-5">
            <div class="card card-bordered">
                <div class="card-header">
                    <h4 class="card-title"><strong>Chat</strong></h4>
                    <a class="btn btn-xs btn-secondary" href="/logout" data-abc="true">Logout</a>
                </div>

                <div class="ps-container ps-theme-default ps-active-y" id="chat-content"></div>

                <div class="publisher bt-1 border-light">
                    <img class="avatar avatar-xs" src="https://img.icons8.com/color/36/000000/administrator-male.png"
                        alt="...">
                    <input class="publisher-input" type="text" id="message" placeholder="Type here..." autofocus>
                    <span class="publisher-btn file-group">
                        <i class="fa fa-paperclip file-browser"></i>
                        <input type="file">
                    </span>
                    <a class="publisher-btn" href="#" data-abc="true"><i class="fa fa-smile"></i></a>
                    <a class="publisher-btn text-info" data-abc="true"><i id="send" class="fa fa-paper-plane"></i></a>
                </div>

            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="./chat.js"></script>
    <script>
        const uname = document.querySelector('.user-data').dataset.uname;
        const psw = document.querySelector('.user-data').dataset.psw;
        const user = {
            username: uname,
            password: psw
        };
        sessionStorage.setItem('user', JSON.stringify(user));
    </script>
    <!-- Bootstrap & JQuery -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
        integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>

</html>